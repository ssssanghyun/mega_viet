# Vercel 배포 체크리스트

## ✅ 코드 수정 완료
- [x] `vercel.json`에 `rootDirectory: "web"` 추가 완료

## 🔧 Vercel 대시보드에서 확인/설정 필요

### 1. Git 저장소 연결 확인 (가장 중요!)
- [ ] Vercel 대시보드 접속: https://vercel.com
- [ ] 프로젝트 선택
- [ ] Settings → Git
- [ ] Repository가 `Jeonghyun-pp/mega_thaiver`인지 확인
- [ ] 다르다면 → Disconnect 후 `Jeonghyun-pp/mega_thaiver`로 재연결

### 2. Root Directory 확인
- [ ] Settings → General
- [ ] Root Directory가 `web`으로 설정되어 있는지 확인
- [ ] 이제 `vercel.json`에 설정되어 있으므로 자동으로 적용될 수 있음
- [ ] 다르다면 수동으로 `web`으로 변경

### 3. 환경 변수 설정 (필수!)
- [ ] Settings → Environment Variables
- [ ] `OPENAI_API_KEY` 추가 (없는 경우)
  - Key: `OPENAI_API_KEY`
  - Value: 실제 OpenAI API 키 입력
  - Environment: Production, Preview, Development 모두 선택
  - Save

### 4. 재배포 실행
- [ ] Deployments 탭으로 이동
- [ ] 최신 배포의 "..." 메뉴 클릭
- [ ] "Redeploy" 선택
- [ ] "Use existing Build Cache" 옵션 해제 (캐시 무시)
- [ ] 배포 완료 대기

### 5. 배포 후 테스트
- [ ] 배포된 URL로 접속
- [ ] 홈페이지 로드 확인
- [ ] 정답 필드가 read-only인지 확인 (입력 불가능해야 함)
- [ ] 학생 답안만 입력 가능한지 확인
- [ ] 분석 페이지에서 AI 보고서가 생성되는지 확인
- [ ] 브라우저 개발자 도구 → Console에서 에러 확인

## 🐛 문제가 계속되면

### 정답 필드가 여전히 입력 가능한 경우
1. 브라우저 하드 리프레시 (Ctrl+Shift+R 또는 Cmd+Shift+R)
2. 시크릿 모드에서 테스트
3. 브라우저 개발자 도구 → Sources → `_next/static/chunks`에서 `AnalysisForm` 검색
4. 실제 배포된 코드에서 정답 필드가 `<div>`인지 `<select>`인지 확인

### AI 보고서가 생성되지 않는 경우
1. 브라우저 개발자 도구 → Network 탭
2. `/api/analyze` 요청 확인
3. 응답 코드 확인:
   - 401: API 키 문제
   - 429: 할당량 초과
   - 500: 서버 에러 (Vercel Functions 로그 확인)
4. Vercel 대시보드 → Functions → Logs 확인

## 📝 참고 사항

- Git 저장소가 `mega_thaiver`가 아닌 다른 저장소로 연결되어 있으면, 최신 코드가 배포되지 않을 수 있습니다.
- Root Directory 설정이 잘못되면 빌드가 실패하거나 잘못된 파일을 배포할 수 있습니다.
- 환경 변수 `OPENAI_API_KEY`가 설정되지 않으면 AI 분석 기능이 작동하지 않습니다.

